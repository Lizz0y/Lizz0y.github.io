---
layout:     post
title:      "intent传递对象之蜜汁错误"
date:       2017-03-17
author:     "Liz"
header-img: "img/2017-02-01-binder/pic.jpeg"
tags:
    - Android
---

最近做项目时,使用最简单的`bundle`在`Activity`之间传递对象时,神奇的发现在目标`Activity`中获取不到传递过去的对象了。一共传了四个对象吧,除了基本类型还有一个`Parcelable`对象。

调了半天也没发现问题在哪里,找同事一起来看都开始怀疑人生(因为这么普通的用法还没人敢怀疑系统> <,而且四个对象概率性有一两个是可以正常传递的。

后来同事灵机一动怀疑是`Parcelable`的问题,就在序列化和反序列化的时候打了断点,果然是因为在序列化的时候写了一个空的byte数组,反序列化的时候抛异常导致失败。于是神奇的影响了所有对象的传递。

记录一下这个有趣的bug,还发现顺带还发现`AS`一个Bug,调试的时候其实`bundle`的`map`里能读出数据但在`debug`界面却展示为空,以后也不能轻易相信`AS`了





